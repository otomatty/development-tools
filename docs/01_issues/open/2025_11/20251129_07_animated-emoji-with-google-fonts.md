# Issue: ç‰¹å®šçµµæ–‡å­—ã¸ã® Animated Emoji (Google Noto) é©ç”¨

## æ¦‚è¦

ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šãŒæœ‰åŠ¹ãªå ´åˆã€ç‰¹å®šã®çµµæ–‡å­—ã‚’ Google Noto Animated Emoji ã«ç½®ãæ›ãˆã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºã™ã‚‹ã€‚ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚µãƒãƒ¼ãƒˆã®ãŸã‚ã€å¿…è¦ãªã‚¢ã‚»ãƒƒãƒˆã‚’ã‚¢ãƒ—ãƒªã«ãƒãƒ³ãƒ‰ãƒ«ã™ã‚‹ã€‚

## ç¾çŠ¶

- çµµæ–‡å­—ã¯æ¨™æº–ã®ãƒ†ã‚­ã‚¹ãƒˆçµµæ–‡å­—ã¨ã—ã¦è¡¨ç¤º
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—
- `animations_enabled` è¨­å®šã¯å­˜åœ¨ã™ã‚‹ãŒã€çµµæ–‡å­—ã«ã¯é©ç”¨ã•ã‚Œã¦ã„ãªã„

## è¦ä»¶

### æ©Ÿèƒ½è¦ä»¶

1. **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡çµµæ–‡å­—**

   - ğŸ”¥ (ç«) - ã‚¹ãƒˆãƒªãƒ¼ã‚¯è¡¨ç¤º
   - ğŸ† (ãƒˆãƒ­ãƒ•ã‚£ãƒ¼) - æœ€é«˜è¨˜éŒ²ã€ãƒãƒƒã‚¸
   - â­ (æ˜Ÿ) - ã‚¹ã‚¿ãƒ¼æ•°ã€è©•ä¾¡
   - ğŸ¯ (ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ) - ç›®æ¨™é”æˆã€ãƒãƒƒã‚¸
   - ğŸ’ª (ç­‹è‚‰) - ã‚¹ãƒˆãƒªãƒ¼ã‚¯ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
   - ğŸ‘‘ (ç‹å† ) - æœ€é«˜ãƒ¬ãƒ™ãƒ«ãƒãƒƒã‚¸
   - ğŸ‰ (ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼) - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã€ãƒãƒƒã‚¸ç²å¾—
   - âœ¨ (ã‚­ãƒ©ã‚­ãƒ©) - ã‚¯ã‚ªãƒªãƒ†ã‚£ãƒãƒƒã‚¸
   - ğŸš€ (ãƒ­ã‚±ãƒƒãƒˆ) - æˆé•·ãƒ»é€²æ—

2. **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ¡ä»¶**

   - `animations_enabled` ãŒ true ã®å ´åˆã®ã¿ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
   - false ã®å ´åˆã¯é€šå¸¸ã®çµµæ–‡å­—ã‚’è¡¨ç¤º

3. **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚µãƒãƒ¼ãƒˆ**
   - å¿…è¦ãª Lottie ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒ—ãƒªã«ãƒãƒ³ãƒ‰ãƒ«
   - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šä¸è¦ã§å‹•ä½œ

### æŠ€è¡“è¦ä»¶

1. **ã‚¢ã‚»ãƒƒãƒˆæº–å‚™**

   - Google Noto Animated Emoji ã‹ã‚‰å¿…è¦ãªçµµæ–‡å­—ã® Lottie ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—
   - `public/assets/emoji/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®
   - å„çµµæ–‡å­—: ç´„ 5-20KB ç¨‹åº¦ã® JSON ãƒ•ã‚¡ã‚¤ãƒ«

2. **AnimatedEmoji ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**

   ```rust
   #[component]
   pub fn AnimatedEmoji(
       emoji: &'static str,  // "fire", "trophy", "star" etc.
       #[prop(default = "1.5rem")] size: &'static str,
       #[prop(default = true)] loop_animation: bool,
   ) -> impl IntoView
   ```

3. **Lottie ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±åˆ**

   - `lottie-web` ã¾ãŸã¯ `@lottiefiles/lottie-player` ã® WASM å¯¾å¿œç¢ºèª
   - ã‚«ã‚¹ã‚¿ãƒ  Lottie ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®å®Ÿè£…ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

4. **çµµæ–‡å­—ãƒãƒƒãƒ”ãƒ³ã‚°**

   ```rust
   const ANIMATED_EMOJI_MAP: &[(&str, &str)] = &[
       ("ğŸ”¥", "fire"),
       ("ğŸ†", "trophy"),
       ("â­", "star"),
       ("ğŸ¯", "target"),
       ("ğŸ’ª", "muscle"),
       ("ğŸ‘‘", "crown"),
       ("ğŸ‰", "party"),
       ("âœ¨", "sparkles"),
       ("ğŸš€", "rocket"),
   ];
   ```

5. **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆçµ±åˆ**
   - æ—¢å­˜ã® `AnimationContext` ã‚’ä½¿ç”¨ã—ã¦æœ‰åŠ¹/ç„¡åŠ¹ã‚’åˆ¤å®š
   - `use_animation_context_or_default()` ã§å–å¾—

## å½±éŸ¿ç¯„å›²

### æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«

- `public/assets/emoji/*.json` - Lottie çµµæ–‡å­—ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ9 ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- `src/components/animated_emoji.rs` - AnimatedEmoji ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«

- `src/components/mod.rs` - animated_emoji ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å…¬é–‹
- `src/components/home/stats_display.rs` - ã‚¹ãƒˆãƒªãƒ¼ã‚¯çµµæ–‡å­—ã®ç½®ãæ›ãˆ
- `src/components/home/badge_grid.rs` - ãƒãƒƒã‚¸ã‚¢ã‚¤ã‚³ãƒ³ã®ç½®ãæ›ãˆ
- `src/components/home/profile_card.rs` - çµ±è¨ˆçµµæ–‡å­—ã®ç½®ãæ›ãˆ
- `src/components/home/xp_notification.rs` - é€šçŸ¥çµµæ–‡å­—ã®ç½®ãæ›ãˆ

## ã‚¢ã‚»ãƒƒãƒˆã‚½ãƒ¼ã‚¹

Google Noto Animated Emoji:

- GitHub: https://github.com/nicholasruelas/noto-animated-emoji
- ç›´æ¥ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: https://fonts.google.com/noto/specimen/Noto+Emoji
- Lottie å½¢å¼ã§æä¾›ã•ã‚Œã¦ã„ã‚‹

## ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºè€ƒæ…®

| çµµæ–‡å­—   | ãƒ•ã‚¡ã‚¤ãƒ«å    | æ¨å®šã‚µã‚¤ã‚º |
| -------- | ------------- | ---------- |
| ğŸ”¥       | fire.json     | ~15KB      |
| ğŸ†       | trophy.json   | ~12KB      |
| â­       | star.json     | ~8KB       |
| ğŸ¯       | target.json   | ~10KB      |
| ğŸ’ª       | muscle.json   | ~18KB      |
| ğŸ‘‘       | crown.json    | ~14KB      |
| ğŸ‰       | party.json    | ~20KB      |
| âœ¨       | sparkles.json | ~10KB      |
| ğŸš€       | rocket.json   | ~16KB      |
| **åˆè¨ˆ** |               | **~123KB** |

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

1. **TC-001**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ‰åŠ¹æ™‚ã«å¯¾è±¡çµµæ–‡å­—ãŒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹
2. **TC-002**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç„¡åŠ¹æ™‚ã«é€šå¸¸çµµæ–‡å­—ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. **TC-003**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç’°å¢ƒã§ã‚‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµµæ–‡å­—ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. **TC-004**: ãƒ«ãƒ¼ãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãå‹•ä½œã™ã‚‹
5. **TC-005**: ã‚µã‚¤ã‚ºæŒ‡å®šãŒæ­£ã—ãåæ˜ ã•ã‚Œã‚‹
6. **TC-006**: å¯¾è±¡å¤–ã®çµµæ–‡å­—ã¯é€šå¸¸è¡¨ç¤ºã•ã‚Œã‚‹

## å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

1. Lottie ã‚¢ã‚»ãƒƒãƒˆã®å–å¾—ã¨é…ç½®
2. Lottie ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®çµ±åˆï¼ˆwasm-bindgen çµŒç”±ï¼‰
3. AnimatedEmoji ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
4. æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®çµ±åˆ
5. ãƒ†ã‚¹ãƒˆ

## å„ªå…ˆåº¦

ä½ - UX å‘ä¸Šãƒ»è¦–è¦šåŠ¹æœ

## é–¢é€£ Issue

- ãªã—

## å‚è€ƒãƒªãƒ³ã‚¯

- [Google Noto Animated Emoji](https://googlefonts.github.io/noto-emoji-animation/)
- [Lottie Web](https://github.com/airbnb/lottie-web)
- [LottieFiles Player](https://lottiefiles.com/web-player)
